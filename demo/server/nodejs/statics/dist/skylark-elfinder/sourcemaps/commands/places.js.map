{"version":3,"sources":["commands/places.js"],"names":["define","elFinder","prototype","commands","places","self","this","fm","getstate","select","hashes","sel","cnt","length","$","grep","files","f","mime","exec","trigger","Deferred","resolve","one","ui"],"mappings":";;;;;;;AAAAA,QACC,eACC,SAASC,GAmCV,OA5BAA,EAASC,UAAUC,SAASC,OAAS,WACpC,aACA,IAAIC,EAASC,KACbC,EAASD,KAAKC,GAIdH,EAAS,KAETE,KAAKE,SAAW,SAASC,GACxB,IANiBC,EAMbC,EAAML,KAAKI,OAAOD,GACtBG,EAAMD,EAAIE,OAEV,OAAQT,GAAUQ,GAAOA,IATRF,EASsBC,EARhCG,EAAEC,KAAKV,EAAKW,MAAMN,GAAS,SAASO,GAAK,MAAiB,aAAVA,EAAEC,QAQbL,OAAS,GAAK,GAG3DP,KAAKa,KAAO,SAAST,GACpB,IAAIM,EAAQV,KAAKU,MAAMN,GAEvB,OADAN,EAAOgB,QAAQ,UAAYJ,IACpBF,EAAEO,WAAWC,WAGrBf,EAAGgB,IAAI,OAAQ,WACdnB,EAASG,EAAGiB,GAAGpB,UAKVH","file":"../../commands/places.js","sourcesContent":["define([\n\t\"../elFinder\"\n],function(elFinder){\n\t/**\n\t * @class  elFinder command \"places\"\n\t * Regist to Places\n\t *\n\t * @author Naoki Sawada\n\t **/\n\telFinder.prototype.commands.places = function() {\n\t\t\"use strict\";\n\t\tvar self   = this,\n\t\tfm     = this.fm,\n\t\tfilter = function(hashes) {\n\t\t\treturn $.grep(self.files(hashes), function(f) { return f.mime == 'directory' ? true : false; });\n\t\t},\n\t\tplaces = null;\n\t\t\n\t\tthis.getstate = function(select) {\n\t\t\tvar sel = this.hashes(select),\n\t\t\tcnt = sel.length;\n\t\t\t\n\t\t\treturn  places && cnt && cnt == filter(sel).length ? 0 : -1;\n\t\t};\n\t\t\n\t\tthis.exec = function(hashes) {\n\t\t\tvar files = this.files(hashes);\n\t\t\tplaces.trigger('regist', [ files ]);\n\t\t\treturn $.Deferred().resolve();\n\t\t};\n\t\t\n\t\tfm.one('load', function(){\n\t\t\tplaces = fm.ui.places;\n\t\t});\n\n\t};\n\n\treturn elFinder;\n\n});"]}