{"version":3,"sources":["ui/toast.js"],"names":["define","$","fn","elfindertoast","opts","fm","defOpts","Object","assign","mode","msg","showMethod","showDuration","showEasing","onShown","undefined","hideMethod","hideDuration","hideEasing","onHidden","timeOut","extNode","button","width","isPlainObject","options","uiOptions","toast","defaults","this","each","rmTm","self","show","notm","stop","toFront","duration","easing","complete","setTimeout","rm","remove","on","e","stopPropagation","preventDefault","clearTimeout","type","hide","addClass","append","html","replace","m","m1","i18n","text","toggleClass","click","css"],"mappings":";;;;;;;AAAAA,QACC,kBACC,SAASC,GAoGV,OA3FAA,EAAEC,GAAGC,cAAgB,SAASC,EAAMC,GACnC,aACA,IAAIC,EAAUC,OAAOC,QACpBC,KAAM,UACNC,IAAK,GACLC,WAAY,SACZC,aAAc,IACdC,WAAY,QACZC,aAASC,EACTC,WAAY,UACZC,aAAc,KACdC,WAAY,QACZC,cAAUJ,EACVK,QAAS,IACTC,aAASN,EACTO,YAAQP,EACRQ,WAAOR,GACLd,EAAEuB,cAAcnB,EAAGoB,QAAQC,UAAUC,MAAMC,UAAWvB,EAAGoB,QAAQC,UAAUC,MAAMC,aACpF,OAAOC,KAAKC,KAAK,WAChB1B,EAAOG,OAAOC,UAAWF,EAASF,OAElC,IAyBC2B,EAzBGC,EAAO/B,EAAE4B,MACZI,EAAO,SAASC,GACfF,EAAKG,OACL9B,EAAG+B,QAAQJ,GACXA,EAAK5B,EAAKO,aACT0B,SAAUjC,EAAKQ,aACf0B,OAAQlC,EAAKS,WACb0B,SAAU,WACTnC,EAAKU,SAAWV,EAAKU,WAChBoB,GAAQ9B,EAAKgB,UACjBW,EAAOS,WAAWC,EAAIrC,EAAKgB,cAK/BqB,EAAK,WACJT,EAAK5B,EAAKY,aACTqB,SAAUjC,EAAKa,aACfqB,OAAQlC,EAAKc,WACbqB,SAAU,WACTnC,EAAKe,UAAYf,EAAKe,WACtBa,EAAKU,aAMTV,EAAKW,GAAG,QAAS,SAASC,GACzBA,EAAEC,kBACFD,EAAEE,iBACFf,GAAQgB,aAAahB,GACrB3B,EAAKe,UAAYf,EAAKe,WACtBa,EAAKG,OAAOO,WACVC,GAAG,wBAAyB,SAASC,GACnCxC,EAAKgB,UACRW,GAAQgB,aAAahB,GACrBA,EAAO,KACQ,eAAXa,EAAEI,KACLf,GAAK,GAELF,EAAOS,WAAWC,EAAIrC,EAAKgB,YAG3B6B,OAAOC,SAAS,SAAW9C,EAAKK,MAAM0C,OAAOlD,EAAE,qCAAqCmD,KAAKhD,EAAKM,IAAI2C,QAAQ,oBAAqB,SAASC,EAAGC,GAC7I,OAAOlD,EAAGmD,KAAKD,OAGZnD,EAAKiB,SACRW,EAAKmB,OAAO/C,EAAKiB,SAGdjB,EAAKkB,QACRU,EAAKmB,OACJlD,EAAE,yFACDkD,OAAOlD,EAAE,kCAAkCwD,KAAKpD,EAAGmD,KAAKpD,EAAKkB,OAAOmC,QACpEd,GAAG,wBAAyB,SAASC,GACrC3C,EAAE4B,MAAM6B,YAAY,iBAA4B,cAAVd,EAAEI,QAExCL,GAAG,QAASvC,EAAKkB,OAAOqC,OAAS,eAIhCvD,EAAKmB,OACRS,EAAK4B,IAAI,YAAaxD,EAAKmB,OAG5BU,OAIKhC","file":"../../ui/toast.js","sourcesContent":["define([\n\t\"skylark-jquery\"\n],function($) {\n\t/**\n\t * @class  elFinder toast\n\t * \n\t * This was created inspired by the toastr. Thanks to developers of toastr.\n\t * CodeSeven/toastr: http://johnpapa.net <https://github.com/CodeSeven/toastr>\n\t *\n\t * @author Naoki Sawada\n\t **/\n\t$.fn.elfindertoast = function(opts, fm) {\n\t\t\"use strict\";\n\t\tvar defOpts = Object.assign({\n\t\t\tmode: 'success', // or 'info', 'warning' and 'error'\n\t\t\tmsg: '',\n\t\t\tshowMethod: 'fadeIn', //fadeIn, slideDown, and show are built into jQuery\n\t\t\tshowDuration: 300,\n\t\t\tshowEasing: 'swing', //swing and linear are built into jQuery\n\t\t\tonShown: undefined,\n\t\t\thideMethod: 'fadeOut',\n\t\t\thideDuration: 1500,\n\t\t\thideEasing: 'swing',\n\t\t\tonHidden: undefined,\n\t\t\ttimeOut: 3000,\n\t\t\textNode: undefined,\n\t\t\tbutton: undefined,\n\t\t\twidth: undefined\n\t\t}, $.isPlainObject(fm.options.uiOptions.toast.defaults)? fm.options.uiOptions.toast.defaults : {});\n\t\treturn this.each(function() {\n\t\t\topts = Object.assign({}, defOpts, opts || {});\n\t\t\t\n\t\t\tvar self = $(this),\n\t\t\t\tshow = function(notm) {\n\t\t\t\t\tself.stop();\n\t\t\t\t\tfm.toFront(self);\n\t\t\t\t\tself[opts.showMethod]({\n\t\t\t\t\t\tduration: opts.showDuration,\n\t\t\t\t\t\teasing: opts.showEasing,\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\topts.onShown && opts.onShown();\n\t\t\t\t\t\t\tif (!notm && opts.timeOut) {\n\t\t\t\t\t\t\t\trmTm = setTimeout(rm, opts.timeOut);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\trm = function() {\n\t\t\t\t\tself[opts.hideMethod]({\n\t\t\t\t\t\tduration: opts.hideDuration,\n\t\t\t\t\t\teasing: opts.hideEasing,\n\t\t\t\t\t\tcomplete: function() {\n\t\t\t\t\t\t\topts.onHidden && opts.onHidden();\n\t\t\t\t\t\t\tself.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\trmTm;\n\t\t\t\n\t\t\tself.on('click', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\trmTm && clearTimeout(rmTm);\n\t\t\t\topts.onHidden && opts.onHidden();\n\t\t\t\tself.stop().remove();\n\t\t\t}).on('mouseenter mouseleave', function(e) {\n\t\t\t\tif (opts.timeOut) {\n\t\t\t\t\trmTm && clearTimeout(rmTm);\n\t\t\t\t\trmTm = null;\n\t\t\t\t\tif (e.type === 'mouseenter') {\n\t\t\t\t\t\tshow(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trmTm = setTimeout(rm, opts.timeOut);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).hide().addClass('toast-' + opts.mode).append($('<div class=\"elfinder-toast-msg\"/>').html(opts.msg.replace(/%([a-zA-Z0-9]+)%/g, function(m, m1) {\n\t\t\t\treturn fm.i18n(m1);\n\t\t\t})));\n\t\t\t\n\t\t\tif (opts.extNode) {\n\t\t\t\tself.append(opts.extNode);\n\t\t\t}\n\n\t\t\tif (opts.button) {\n\t\t\t\tself.append(\n\t\t\t\t\t$('<button class=\"ui-button ui-widget ui-state-default ui-corner-all elfinder-tabstop\"/>')\n\t\t\t\t\t.append($('<span class=\"ui-button-text\"/>').text(fm.i18n(opts.button.text)))\n\t\t\t\t\t.on('mouseenter mouseleave', function(e) { \n\t\t\t\t\t\t$(this).toggleClass('ui-state-hover', e.type == 'mouseenter');\n\t\t\t\t\t})\n\t\t\t\t\t.on('click', opts.button.click || function(){})\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (opts.width) {\n\t\t\t\tself.css('max-width', opts.width);\n\t\t\t}\n\t\t\t\n\t\t\tshow();\n\t\t});\n\t};\n\n\treturn $;\n});\n"]}