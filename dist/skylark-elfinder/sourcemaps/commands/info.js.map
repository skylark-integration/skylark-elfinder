{"version":3,"sources":["commands/info.js"],"names":["define","elFinder","prototype","commands","info","fm","this","spclass","msg","calc","i18n","size","unknown","path","aliasfor","modify","perms","locked","dim","kind","files","folders","roots","items","yes","no","link","owner","group","perm","getlink","applyZWSP","str","remove","replace","options","custom","Object","keys","length","$","each","name","details","label","push","tpl","main","itemTitle","groupTitle","row","spinner","alwaysEnabled","updateOnSelect","shortcuts","pattern","init","k","v","getstate","exec","hashes","cwd","hash","tmb","file","title","dcnt","rdcnt","hideItems","hashProg","o","cnt","content","view","l","reqs","reqDfrd","opts","width","close","elfinderdialog","state","reject","grep","r","count","replSpinner","className","dialog","find","parent","html","addClass","id","namespace","map","f","join","getUI","customActions","style","hashClass","getHashAlgorisms","ndialog","ui","notify","is","children","height","Deferred","resolve","storage","arrayFlip","icon","getIconStyle","csscls","escape","mime2class","mime","i18","mime2kind","read","alias","formatSize","aleasfor","fail","done","href","name_esc","url","nullUrlDirLinkSelf","loc","window","location","pathname","search","option","isRoot","phash","indexOf","request","data","cmd","target","preventDefault","split","rfile","formatDate","formatPermissions","formatFileMode","ArrayBuffer","cdns","sparkmd5","jssha","showHashMaxsize","showHashAlgorisms","i","n","getContentsHashes","showHashOpts","progressBar","progress","always","mimes","m","hashRegex","match","action","isroot","c","t","h","s","parseInt","fmDialog","attr","one","appendTo","UA","Mobile","fn","tooltip","classes","ui-tooltip","tooltipClass","track","on","css","getSize","formated","e","debug","forceLoad"],"mappings":"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","file":"../../commands/info.js","sourcesContent":["define([\n\t\"../elFinder\"\n],function(elFinder){\n\t/**\n\t * @class elFinder command \"info\". \n\t * Display dialog with file properties.\n\t *\n\t * @author Dmitry (dio) Levashov, dio@std42.ru\n\t **/\n\t(elFinder.prototype.commands.info = function() {\n\t\t\"use strict\";\n\t\tvar m   = 'msg',\n\t\t\tfm  = this.fm,\n\t\t\tspclass = 'elfinder-spinner',\n\t\t\tbtnclass = 'elfinder-info-button',\n\t\t\tmsg = {\n\t\t\t\tcalc     : fm.i18n('calc'),\n\t\t\t\tsize     : fm.i18n('size'),\n\t\t\t\tunknown  : fm.i18n('unknown'),\n\t\t\t\tpath     : fm.i18n('path'),\n\t\t\t\taliasfor : fm.i18n('aliasfor'),\n\t\t\t\tmodify   : fm.i18n('modify'),\n\t\t\t\tperms    : fm.i18n('perms'),\n\t\t\t\tlocked   : fm.i18n('locked'),\n\t\t\t\tdim      : fm.i18n('dim'),\n\t\t\t\tkind     : fm.i18n('kind'),\n\t\t\t\tfiles    : fm.i18n('files'),\n\t\t\t\tfolders  : fm.i18n('folders'),\n\t\t\t\troots    : fm.i18n('volumeRoots'),\n\t\t\t\titems    : fm.i18n('items'),\n\t\t\t\tyes      : fm.i18n('yes'),\n\t\t\t\tno       : fm.i18n('no'),\n\t\t\t\tlink     : fm.i18n('link'),\n\t\t\t\towner    : fm.i18n('owner'),\n\t\t\t\tgroup    : fm.i18n('group'),\n\t\t\t\tperm     : fm.i18n('perm'),\n\t\t\t\tgetlink  : fm.i18n('getLink')\n\t\t\t},\n\t\t\tapplyZWSP = function(str, remove) {\n\t\t\t\tif (remove) {\n\t\t\t\t\treturn str.replace(/\\u200B/g, '');\n\t\t\t\t} else {\n\t\t\t\t\treturn str.replace(/(\\/|\\\\)/g, \"$1\\u200B\");\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\tthis.items = ['size', 'aliasfor', 'path', 'link', 'dim', 'modify', 'perms', 'locked', 'owner', 'group', 'perm'];\n\t\tif (this.options.custom && Object.keys(this.options.custom).length) {\n\t\t\t$.each(this.options.custom, function(name, details) {\n\t\t\t\tdetails.label && this.items.push(details.label);\n\t\t\t});\n\t\t}\n\n\t\tthis.tpl = {\n\t\t\tmain       : '<div class=\"ui-helper-clearfix elfinder-info-title {dirclass}\"><span class=\"elfinder-cwd-icon {class} ui-corner-all\"{style}/>{title}</div><table class=\"elfinder-info-tb\">{content}</table>',\n\t\t\titemTitle  : '<strong>{name}</strong><span class=\"elfinder-info-kind\">{kind}</span>',\n\t\t\tgroupTitle : '<strong>{items}: {num}</strong>',\n\t\t\trow        : '<tr><td class=\"elfinder-info-label\">{label} : </td><td class=\"{class}\">{value}</td></tr>',\n\t\t\tspinner    : '<span>{text}</span> <span class=\"'+spclass+' '+spclass+'-{name}\"/>'\n\t\t};\n\t\t\n\t\tthis.alwaysEnabled = true;\n\t\tthis.updateOnSelect = false;\n\t\tthis.shortcuts = [{\n\t\t\tpattern     : 'ctrl+i'\n\t\t}];\n\t\t\n\t\tthis.init = function() {\n\t\t\t$.each(msg, function(k, v) {\n\t\t\t\tmsg[k] = fm.i18n(v);\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.getstate = function() {\n\t\t\treturn 0;\n\t\t};\n\t\t\n\t\tthis.exec = function(hashes) {\n\t\t\tvar files   = this.files(hashes);\n\t\t\tif (! files.length) {\n\t\t\t\tfiles   = this.files([ this.fm.cwd().hash ]);\n\t\t\t}\n\t\t\tvar self    = this,\n\t\t\t\tfm      = this.fm,\n\t\t\t\to       = this.options,\n\t\t\t\ttpl     = this.tpl,\n\t\t\t\trow     = tpl.row,\n\t\t\t\tcnt     = files.length,\n\t\t\t\tcontent = [],\n\t\t\t\tview    = tpl.main,\n\t\t\t\tl       = '{label}',\n\t\t\t\tv       = '{value}',\n\t\t\t\treqs    = [],\n\t\t\t\treqDfrd = null,\n\t\t\t\topts    = {\n\t\t\t\t\ttitle : fm.i18n('selectionInfo'),\n\t\t\t\t\twidth : 'auto',\n\t\t\t\t\tclose : function() {\n\t\t\t\t\t\t$(this).elfinderdialog('destroy');\n\t\t\t\t\t\tif (reqDfrd && reqDfrd.state() === 'pending') {\n\t\t\t\t\t\t\treqDfrd.reject();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.grep(reqs, function(r) {\n\t\t\t\t\t\t\tr && r.state() === 'pending' && r.reject();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcount = [],\n\t\t\t\treplSpinner = function(msg, name, className) {\n\t\t\t\t\tdialog.find('.'+spclass+'-'+name).parent().html(msg).addClass(className || '');\n\t\t\t\t},\n\t\t\t\tid = fm.namespace+'-info-'+$.map(files, function(f) { return f.hash; }).join('-'),\n\t\t\t\tdialog = fm.getUI().find('#'+id),\n\t\t\t\tcustomActions = [],\n\t\t\t\tstyle = '',\n\t\t\t\thashClass = 'elfinder-font-mono elfinder-info-hash',\n\t\t\t\tgetHashAlgorisms = [],\n\t\t\t\tndialog  = fm.ui.notify,\n\t\t\t\tsize, tmb, file, title, dcnt, rdcnt, path, hideItems, hashProg;\n\n\t\t\tif (ndialog.is(':hidden') && ndialog.children('.elfinder-notify').length) {\n\t\t\t\tndialog.elfinderdialog('open').height('auto');\n\t\t\t}\n\n\t\t\tif (!cnt) {\n\t\t\t\treturn $.Deferred().reject();\n\t\t\t}\n\t\t\t\t\n\t\t\tif (dialog.length) {\n\t\t\t\tdialog.elfinderdialog('toTop');\n\t\t\t\treturn $.Deferred().resolve();\n\t\t\t}\n\t\t\t\n\t\t\thideItems = fm.storage('infohides') || fm.arrayFlip(o.hideItems, true);\n\n\t\t\tif (cnt === 1) {\n\t\t\t\tfile = files[0];\n\t\t\t\t\n\t\t\t\tif (file.icon) {\n\t\t\t\t\tstyle = ' '+fm.getIconStyle(file);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tview  = view.replace('{dirclass}', file.csscls? fm.escape(file.csscls) : '').replace('{class}', fm.mime2class(file.mime)).replace('{style}', style);\n\t\t\t\ttitle = tpl.itemTitle.replace('{name}', fm.escape(file.i18 || file.name)).replace('{kind}', '<span title=\"'+fm.escape(file.mime)+'\">'+fm.mime2kind(file)+'</span>');\n\n\t\t\t\ttmb = fm.tmb(file);\n\t\t\t\t\n\t\t\t\tif (!file.read) {\n\t\t\t\t\tsize = msg.unknown;\n\t\t\t\t} else if (file.mime != 'directory' || file.alias) {\n\t\t\t\t\tsize = fm.formatSize(file.size);\n\t\t\t\t} else {\n\t\t\t\t\tsize = tpl.spinner.replace('{text}', msg.calc).replace('{name}', 'size');\n\t\t\t\t\tcount.push(file.hash);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t!hideItems.size && content.push(row.replace(l, msg.size).replace(v, size));\n\t\t\t\t!hideItems.aleasfor && file.alias && content.push(row.replace(l, msg.aliasfor).replace(v, file.alias));\n\t\t\t\tif (!hideItems.path) {\n\t\t\t\t\tif (path = fm.path(file.hash, true)) {\n\t\t\t\t\t\tcontent.push(row.replace(l, msg.path).replace(v, applyZWSP(fm.escape(path))).replace('{class}', 'elfinder-info-path'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontent.push(row.replace(l, msg.path).replace(v, tpl.spinner.replace('{text}', msg.calc).replace('{name}', 'path')).replace('{class}', 'elfinder-info-path'));\n\t\t\t\t\t\treqs.push(fm.path(file.hash, true, {notify: null})\n\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\treplSpinner(msg.unknown, 'path');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.done(function(path) {\n\t\t\t\t\t\t\treplSpinner(applyZWSP(path), 'path');\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!hideItems.link && file.read) {\n\t\t\t\t\tvar href,\n\t\t\t\t\tname_esc = fm.escape(file.name);\n\t\t\t\t\tif (file.url == '1') {\n\t\t\t\t\t\tcontent.push(row.replace(l, msg.link).replace(v, '<button class=\"'+btnclass+' '+spclass+'-url\">'+msg.getlink+'</button>'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (file.url) {\n\t\t\t\t\t\t\thref = file.url;\n\t\t\t\t\t\t} else if (file.mime === 'directory') {\n\t\t\t\t\t\t\tif (o.nullUrlDirLinkSelf && file.url === null) {\n\t\t\t\t\t\t\t\tvar loc = window.location;\n\t\t\t\t\t\t\t\thref = loc.pathname + loc.search + '#elf_' + file.hash;\n\t\t\t\t\t\t\t} else if (file.url !== '' && fm.option('url', (!fm.isRoot(file) && file.phash) || file.hash)) {\n\t\t\t\t\t\t\t\thref = fm.url(file.hash);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thref = fm.url(file.hash);\n\t\t\t\t\t\t}\n\t\t\t\t\t\thref && content.push(row.replace(l, msg.link).replace(v,  '<a href=\"'+href+'\" target=\"_blank\">'+name_esc+'</a>'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!hideItems.dim) {\n\t\t\t\t\tif (file.dim) { // old api\n\t\t\t\t\t\tcontent.push(row.replace(l, msg.dim).replace(v, file.dim));\n\t\t\t\t\t} else if (file.mime.indexOf('image') !== -1) {\n\t\t\t\t\t\tif (file.width && file.height) {\n\t\t\t\t\t\t\tcontent.push(row.replace(l, msg.dim).replace(v, file.width+'x'+file.height));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontent.push(row.replace(l, msg.dim).replace(v, tpl.spinner.replace('{text}', msg.calc).replace('{name}', 'dim')));\n\t\t\t\t\t\t\treqs.push(fm.request({\n\t\t\t\t\t\t\t\tdata : {cmd : 'dim', target : file.hash},\n\t\t\t\t\t\t\t\tpreventDefault : true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\t\treplSpinner(msg.unknown, 'dim');\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\treplSpinner(data.dim || msg.unknown, 'dim');\n\t\t\t\t\t\t\t\tif (data.dim) {\n\t\t\t\t\t\t\t\t\tvar dim = data.dim.split('x');\n\t\t\t\t\t\t\t\t\tvar rfile = fm.file(file.hash);\n\t\t\t\t\t\t\t\t\trfile.width = dim[0];\n\t\t\t\t\t\t\t\t\trfile.height = dim[1];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t!hideItems.modify && content.push(row.replace(l, msg.modify).replace(v, fm.formatDate(file)));\n\t\t\t\t!hideItems.perms && content.push(row.replace(l, msg.perms).replace(v, fm.formatPermissions(file)));\n\t\t\t\t!hideItems.locked && content.push(row.replace(l, msg.locked).replace(v, file.locked ? msg.yes : msg.no));\n\t\t\t\t!hideItems.owner && file.owner && content.push(row.replace(l, msg.owner).replace(v, file.owner));\n\t\t\t\t!hideItems.group && file.group && content.push(row.replace(l, msg.group).replace(v, file.group));\n\t\t\t\t!hideItems.perm && file.perm && content.push(row.replace(l, msg.perm).replace(v, fm.formatFileMode(file.perm)));\n\t\t\t\t\n\t\t\t\t// Get MD5, SHA hashes\n\t\t\t\tif (window.ArrayBuffer && (fm.options.cdns.sparkmd5 || fm.options.cdns.jssha) && file.mime !== 'directory' && file.size > 0 && (!o.showHashMaxsize || file.size <= o.showHashMaxsize)) {\n\t\t\t\t\tgetHashAlgorisms = [];\n\t\t\t\t\t$.each(fm.storage('hashchekcer') || o.showHashAlgorisms, function(i, n) {\n\t\t\t\t\t\tif (!file[n]) {\n\t\t\t\t\t\t\tcontent.push(row.replace(l, fm.i18n(n)).replace(v, tpl.spinner.replace('{text}', msg.calc).replace('{name}', n)));\n\t\t\t\t\t\t\tgetHashAlgorisms.push(n);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontent.push(row.replace(l, fm.i18n(n)).replace(v, file[n]).replace('{class}', hashClass));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (getHashAlgorisms.length) {\n\t\t\t\t\t\thashProg = $('<div class=\"elfinder-quicklook-info-progress\"/>');\n\t\t\t\t\t\treqs.push(\n\t\t\t\t\t\t\tfm.getContentsHashes(file.hash, getHashAlgorisms, o.showHashOpts, { progressBar : hashProg }).progress(function(hashes) {\n\t\t\t\t\t\t\t\t$.each(getHashAlgorisms, function(i, n) {\n\t\t\t\t\t\t\t\t\tif (hashes[n]) {\n\t\t\t\t\t\t\t\t\t\treplSpinner(hashes[n], n, hashClass);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).always(function() {\n\t\t\t\t\t\t\t\t$.each(getHashAlgorisms, function(i, n) {\n\t\t\t\t\t\t\t\t\treplSpinner(msg.unknown, n);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Add custom info fields\n\t\t\t\tif (o.custom) {\n\t\t\t\t\t$.each(o.custom, function(name, details) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t  !hideItems[details.label]\n\t\t\t\t\t\t    &&\n\t\t\t\t\t\t  (!details.mimes || $.grep(details.mimes, function(m){return (file.mime === m || file.mime.indexOf(m+'/') === 0)? true : false;}).length)\n\t\t\t\t\t\t    &&\n\t\t\t\t\t\t  (!details.hashRegex || file.hash.match(details.hashRegex))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Add to the content\n\t\t\t\t\t\t\tcontent.push(row.replace(l, fm.i18n(details.label)).replace(v , details.tpl.replace('{id}', id)));\n\t\t\t\t\t\t\t// Register the action\n\t\t\t\t\t\t\tif (details.action && (typeof details.action == 'function')) {\n\t\t\t\t\t\t\t\tcustomActions.push(details.action);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tview  = view.replace('{class}', 'elfinder-cwd-icon-group');\n\t\t\t\ttitle = tpl.groupTitle.replace('{items}', msg.items).replace('{num}', cnt);\n\t\t\t\tdcnt  = $.grep(files, function(f) { return f.mime == 'directory' ? true : false ; }).length;\n\t\t\t\tif (!dcnt) {\n\t\t\t\t\tsize = 0;\n\t\t\t\t\t$.each(files, function(h, f) { \n\t\t\t\t\t\tvar s = parseInt(f.size);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (s >= 0 && size >= 0) {\n\t\t\t\t\t\t\tsize += s;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsize = 'unknown';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcontent.push(row.replace(l, msg.kind).replace(v, msg.files));\n\t\t\t\t\t!hideItems.size && content.push(row.replace(l, msg.size).replace(v, fm.formatSize(size)));\n\t\t\t\t} else {\n\t\t\t\t\trdcnt = $.grep(files, function(f) { return f.mime === 'directory' && (! f.phash || f.isroot)? true : false ; }).length;\n\t\t\t\t\tdcnt -= rdcnt;\n\t\t\t\t\tcontent.push(row.replace(l, msg.kind).replace(v, (rdcnt === cnt || dcnt === cnt)? msg[rdcnt? 'roots' : 'folders'] : $.map({roots: rdcnt, folders: dcnt, files: cnt - rdcnt - dcnt}, function(c, t) { return c? msg[t]+' '+c : null; }).join(', ')));\n\t\t\t\t\t!hideItems.size && content.push(row.replace(l, msg.size).replace(v, tpl.spinner.replace('{text}', msg.calc).replace('{name}', 'size')));\n\t\t\t\t\tcount = $.map(files, function(f) { return f.hash; });\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tview = view.replace('{title}', title).replace('{content}', content.join('').replace(/{class}/g, ''));\n\t\t\t\n\t\t\tdialog = self.fmDialog(view, opts);\n\t\t\tdialog.attr('id', id).one('mousedown', '.elfinder-info-path', function() {\n\t\t\t\t$(this).html(applyZWSP($(this).html(), true));\n\t\t\t});\n\n\t\t\tif (getHashAlgorisms.length) {\n\t\t\t\thashProg.appendTo(dialog.find('.'+spclass+'-'+getHashAlgorisms[0]).parent());\n\t\t\t}\n\n\t\t\tif (fm.UA.Mobile && $.fn.tooltip) {\n\t\t\t\tdialog.children('.ui-dialog-content .elfinder-info-title').tooltip({\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\t'ui-tooltip': 'elfinder-ui-tooltip ui-widget-shadow'\n\t\t\t\t\t},\n\t\t\t\t\ttooltipClass: 'elfinder-ui-tooltip ui-widget-shadow',\n\t\t\t\t\ttrack: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (file && file.url == '1') {\n\t\t\t\tdialog.on('click', '.'+spclass+'-url', function(){\n\t\t\t\t\t$(this).parent().html(tpl.spinner.replace('{text}', fm.i18n('ntfurl')).replace('{name}', 'url'));\n\t\t\t\t\tfm.request({\n\t\t\t\t\t\tdata : {cmd : 'url', target : file.hash},\n\t\t\t\t\t\tpreventDefault : true\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\treplSpinner(name_esc, 'url');\n\t\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tif (data.url) {\n\t\t\t\t\t\t\treplSpinner('<a href=\"'+data.url+'\" target=\"_blank\">'+name_esc+'</a>' || name_esc, 'url');\n\t\t\t\t\t\t\tvar rfile = fm.file(file.hash);\n\t\t\t\t\t\t\trfile.url = data.url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treplSpinner(name_esc, 'url');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// load thumbnail\n\t\t\tif (tmb) {\n\t\t\t\t$('<img/>')\n\t\t\t\t\t.on('load', function() { dialog.find('.elfinder-cwd-icon').addClass(tmb.className).css('background-image', \"url('\"+tmb.url+\"')\"); })\n\t\t\t\t\t.attr('src', tmb.url);\n\t\t\t}\n\t\t\t\n\t\t\t// send request to count total size\n\t\t\tif (count.length) {\n\t\t\t\treqDfrd = fm.getSize(count).done(function(data) {\n\t\t\t\t\treplSpinner(data.formated, 'size');\n\t\t\t\t}).fail(function() {\n\t\t\t\t\treplSpinner(msg.unknown, 'size');\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t// call custom actions\n\t\t\tif (customActions.length) {\n\t\t\t\t$.each(customActions, function(i, action) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\taction(file, fm, dialog);\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tfm.debug('error', e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\treturn $.Deferred().resolve();\n\t\t};\n\t\t\n\t}).prototype = { forceLoad : true }; // this is required command\n\n\treturn elFinder;\n\n});"]}