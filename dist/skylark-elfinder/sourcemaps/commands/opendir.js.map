{"version":3,"sources":["commands/opendir.js"],"names":["define","elFinder","prototype","commands","opendir","this","alwaysEnabled","getstate","fm","selected","length","getUI","hasClass","exec","hashes","hash","dfrd","$","Deferred","files","phash","trigger","noupdate","request","data","cmd","target","notify","type","cnt","hideCnt","syncOnFail","reject"],"mappings":";;;;;;;AAAAA,QACC,eACC,SAASC,GA8CV,OAvCAA,EAASC,UAAUC,SAASC,QAAU,WACrC,aACAC,KAAKC,eAAgB,EAErBD,KAAKE,SAAW,WAIf,OAAY,IAHFF,KAAKG,GAAGC,WACPC,QAGF,EAEJL,KAAKG,GAAGG,MAAM,YACTC,SAAS,0BAA2B,GAAK,GAGpDP,KAAKQ,KAAO,SAASC,GACpB,IAICC,EAJGP,EAAQH,KAAKG,GAChBQ,EAAQC,EAAEC,WACVC,EAAQd,KAAKc,MAAML,GAIpB,OAHSK,EAAMT,QAGFS,EAAM,GAAGC,OAItBL,EAAOI,EAAM,GAAGC,MAChBZ,EAAGa,QAAQ,aAAeC,UAAU,IACpCd,EAAGe,SACFC,MAAUC,IAAO,OAAQC,OAASX,GAClCY,QAAUC,KAAO,OAAQC,IAAM,EAAGC,SAAU,GAC5CC,YAAa,IAGPf,GAXCA,EAAKgB,WAgBR/B","file":"../../commands/opendir.js","sourcesContent":["define([\n\t\"../elFinder\"\n],function(elFinder){\n\t/**\n\t * @class  elFinder command \"opendir\"\n\t * Enter parent folder\n\t *\n\t * @author Naoki Sawada\n\t **/  \n\telFinder.prototype.commands.opendir = function() {\n\t\t\"use strict\";\n\t\tthis.alwaysEnabled = true;\n\t\t\n\t\tthis.getstate = function() {\n\t\t\tvar sel = this.fm.selected(),\n\t\t\t\tcnt = sel.length,\n\t\t\t\twz;\n\t\t\tif (cnt !== 1) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\twz = this.fm.getUI('workzone');\n\t\t\treturn wz.hasClass('elfinder-search-result')? 0 : -1;\n\t\t};\n\t\t\n\t\tthis.exec = function(hashes) {\n\t\t\tvar fm    = this.fm,\n\t\t\t\tdfrd  = $.Deferred(),\n\t\t\t\tfiles = this.files(hashes),\n\t\t\t\tcnt   = files.length,\n\t\t\t\thash, pcheck = null;\n\n\t\t\tif (!cnt || !files[0].phash) {\n\t\t\t\treturn dfrd.reject();\n\t\t\t}\n\n\t\t\thash = files[0].phash;\n\t\t\tfm.trigger('searchend', { noupdate: true });\n\t\t\tfm.request({\n\t\t\t\tdata   : {cmd  : 'open', target : hash},\n\t\t\t\tnotify : {type : 'open', cnt : 1, hideCnt : true},\n\t\t\t\tsyncOnFail : false\n\t\t\t});\n\t\t\t\n\t\t\treturn dfrd;\n\t\t};\n\n\t};\n\n\treturn elFinder;\n\n});"]}