{"version":3,"sources":["ui/viewbutton.js"],"names":["define","$","fn","elfinderviewbutton","cmd","this","each","tm","button","elfinderbutton","icon","children","text","change","cancelAnimationFrame","requestAnimationFrame","icons","value","toggleClass","className","title","fm","i18n","attr","html"],"mappings":";;;;;;;AAAAA,QACC,kBACC,SAASC,GAMVA,EAAEC,GAAGC,mBAAqB,SAASC,GAClC,aACA,OAAOC,KAAKC,KAAK,WAChB,IAGCC,EAHGC,EAASP,EAAEI,MAAMI,eAAeL,GACnCM,EAASF,EAAOG,SAAS,yBACzBC,EAASJ,EAAOG,SAAS,yBAG1BP,EAAIS,OAAO,WACVN,GAAMO,qBAAqBP,GAC3BA,EAAKQ,sBAAsB,WAC1B,IAAIC,EAAqB,SAAbZ,EAAIa,MAEhBP,EAAKQ,YAAY,iCAAkCF,GACnDZ,EAAIe,UAAYH,EAAO,YAAc,GACrCZ,EAAIgB,MAAQhB,EAAIiB,GAAGC,KAAKN,EAAQ,WAAa,aAC7CR,EAAOe,KAAK,QAASnB,EAAIgB,OACzBR,EAAKY,KAAKpB,EAAIgB","file":"../../ui/viewbutton.js","sourcesContent":["define([\n\t\"skylark-jquery\"\n],function($) {\n\t/**\n\t * @class  elFinder toolbar button to switch current directory view.\n\t *\n\t * @author Dmitry (dio) Levashov\n\t **/\n\t$.fn.elfinderviewbutton = function(cmd) {\n\t\t\"use strict\";\n\t\treturn this.each(function() {\n\t\t\tvar button = $(this).elfinderbutton(cmd),\n\t\t\t\ticon   = button.children('.elfinder-button-icon'),\n\t\t\t\ttext   = button.children('.elfinder-button-text'),\n\t\t\t\ttm;\n\n\t\t\tcmd.change(function() {\n\t\t\t\ttm && cancelAnimationFrame(tm);\n\t\t\t\ttm = requestAnimationFrame(function() {\n\t\t\t\t\tvar icons = cmd.value == 'icons';\n\n\t\t\t\t\ticon.toggleClass('elfinder-button-icon-view-list', icons);\n\t\t\t\t\tcmd.className = icons? 'view-list' : '';\n\t\t\t\t\tcmd.title = cmd.fm.i18n(icons ? 'viewlist' : 'viewicons');\n\t\t\t\t\tbutton.attr('title', cmd.title);\n\t\t\t\t\ttext.html(cmd.title);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n});"]}