{"version":3,"sources":["ui/workzone.js"],"names":["define","$","fn","elfinderworkzone","fm","cl","this","not","each","wdelta","wz","addClass","prevH","Math","round","height","parent","setDelta","outerHeight","fitsize","e","style","attr","curH","preventDefault","stopPropagation","css","children","ch","max","trigger","on","namespace","one","bind"],"mappings":";;;;;;;AAAAA,QACC,kBACC,SAASC,GAKVA,EAAEC,GAAGC,iBAAmB,SAASC,GAChC,aACA,IAAIC,EAAK,oBAgDT,OA9CAC,KAAKC,IAAI,IAAIF,GAAIG,KAAK,WACrB,IAqCCC,EArCGC,EAAST,EAAEK,MAAMK,SAASN,GAC7BO,EAASC,KAAKC,MAAMJ,EAAGK,UACvBC,EAASN,EAAGM,SACZC,EAAW,WACVR,EAASC,EAAGQ,aAAY,GAAQR,EAAGK,UAEpCI,EAAU,SAASC,GAClB,IAAIL,EAASC,EAAOD,SAAWN,EAC9BY,EAASL,EAAOM,KAAK,SACrBC,EAASV,KAAKC,MAAMJ,EAAGK,UAEpBK,IACHA,EAAEI,iBACFJ,EAAEK,mBAGHT,EAAOU,IAAI,WAAY,UACrBC,SAAS,iBAAiBtB,EAAG,KAAKG,KAAK,WACvC,IAAIoB,EAAK3B,EAAEK,MAEe,YAAtBsB,EAAGF,IAAI,aAAmD,SAAtBE,EAAGF,IAAI,cAC9CX,GAAUa,EAAGV,aAAY,MAG5BF,EAAOM,KAAK,QAASD,GAAS,IAE9BN,EAASF,KAAKgB,IAAI,EAAGhB,KAAKC,MAAMC,IAC5BH,IAAUG,GAAUQ,IAASR,IAChCH,EAASC,KAAKC,MAAMJ,EAAGK,UACvBL,EAAGK,OAAOA,GACVX,EAAG0B,QAAQ,cASdb,IACAD,EAAOe,GAAG,UAAY3B,EAAG4B,UAAWb,GACpCf,EAAG6B,IAAI,YARM,WACXxB,EAASC,EAAGQ,aAAY,GAAQR,EAAGK,SACnCI,MAOCe,KAAK,WAAYf,GACjBe,KAAK,cAAejB,KAEjBX","file":"../../ui/workzone.js","sourcesContent":["define([\n\t\"skylark-jquery\"\n],function($) {\n\t/**\n\t * @class elfinderworkzone - elFinder container for nav and current directory\n\t * @author Dmitry (dio) Levashov\n\t **/\n\t$.fn.elfinderworkzone = function(fm) {\n\t\t\"use strict\";\n\t\tvar cl = 'elfinder-workzone';\n\t\t\n\t\tthis.not('.'+cl).each(function() {\n\t\t\tvar wz     = $(this).addClass(cl),\n\t\t\t\tprevH  = Math.round(wz.height()),\n\t\t\t\tparent = wz.parent(),\n\t\t\t\tsetDelta = function() {\n\t\t\t\t\twdelta = wz.outerHeight(true) - wz.height();\n\t\t\t\t},\n\t\t\t\tfitsize = function(e) {\n\t\t\t\t\tvar height = parent.height() - wdelta,\n\t\t\t\t\t\tstyle  = parent.attr('style'),\n\t\t\t\t\t\tcurH   = Math.round(wz.height());\n\t\t\n\t\t\t\t\tif (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tparent.css('overflow', 'hidden')\n\t\t\t\t\t\t.children(':visible:not(.'+cl+')').each(function() {\n\t\t\t\t\t\t\tvar ch = $(this);\n\t\t\t\n\t\t\t\t\t\t\tif (ch.css('position') != 'absolute' && ch.css('position') != 'fixed') {\n\t\t\t\t\t\t\t\theight -= ch.outerHeight(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\tparent.attr('style', style || '');\n\t\t\t\t\t\n\t\t\t\t\theight = Math.max(0, Math.round(height));\n\t\t\t\t\tif (prevH !== height || curH !== height) {\n\t\t\t\t\t\tprevH  = Math.round(wz.height());\n\t\t\t\t\t\twz.height(height);\n\t\t\t\t\t\tfm.trigger('wzresize');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcssloaded = function() {\n\t\t\t\t\twdelta = wz.outerHeight(true) - wz.height();\n\t\t\t\t\tfitsize();\n\t\t\t\t},\n\t\t\t\twdelta;\n\t\t\t\n\t\t\tsetDelta();\n\t\t\tparent.on('resize.' + fm.namespace, fitsize);\n\t\t\tfm.one('cssloaded', cssloaded)\n\t\t\t  .bind('uiresize', fitsize)\n\t\t\t  .bind('themechange', setDelta);\n\t\t});\n\t\treturn this;\n\t};\n\n});"]}